pipeline {
     agent none
     environment {
        dockerImage = ''
        registry = 'sumithpe/poc6auth'
        DOCKERHUB_CREDENTIALS = credentials('dockerhub_id')
        PATH = "$PATH:/root/.dotnet/tools"
    }
    stages {
    
stage('Build Docker Images') {
agent {
     label 'authenticationNode'
     }
            steps {
                script {
                    echo registry
                    
                }
            }
        }
stage('Upload to DockerHub'){
agent {
     label 'authenticationNode'
     }
            steps {
                script {
                       echo registry
                        }
                }
            }




        stage('docker stop container') {
        agent {
     label 'authenticationNode'
     }
         steps {
            echo registry
         }
       }
       stage('Docker Run') {
       agent {
     label 'authenticationNode'
     }
        steps {
            script {
                echo registry
                }
            }
        }
    }
}
